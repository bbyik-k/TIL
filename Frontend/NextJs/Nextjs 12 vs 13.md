# TIL: Next.js 12 vs 13 μ°¨μ΄ μ •λ¦¬ λ° μ»¤λ®¤λ‹ν‹° ν† λ΅  ν•΄μ„¤

## β… κ°μ”

Next.jsλ” 13λ²„μ „μ—μ„ ν° λ³€ν™”κ°€ μμ—μΌλ©°, μ΄λ” λ‹¨μν• μ—…λ°μ΄νΈ μμ¤€μ„ λ„μ–΄ **μ•„ν‚¤ν…μ² μμ¤€μ ν¨λ¬λ‹¤μ„ μ „ν™**μΌλ΅ λ³Ό μ μμµλ‹λ‹¤.  
μ΄λ² TILμ—μ„λ” Next.js 12(Page Router)μ™€ 13(App Router)μ μ£Όμ” μ°¨μ΄μ , κ·Έλ¦¬κ³  μ‹¤μ  μ»¤λ®¤λ‹ν‹°μ—μ„ μ¤κ°„ ν† λ΅ μ„ κΈ°λ°μΌλ΅  
λ§μ€ κ°λ°μλ“¤μ΄ ν—·κ°λ ¤ν•λ” ν¬μΈνΈλ¥Ό μ •λ¦¬ν•κ³  ν•΄μ„¤ν•©λ‹λ‹¤.

---

## π€ Next.js 12 vs 13 μ£Όμ” μ°¨μ΄μ  μ”μ•½

| ν•­λ©         | Next.js 12 (Page Router)               | Next.js 13 (App Router)                        |
| ------------ | -------------------------------------- | ---------------------------------------------- |
| λΌμ°ν… κµ¬μ΅°  | `pages/` λ””λ ‰ν† λ¦¬ κΈ°λ°                 | `app/` λ””λ ‰ν† λ¦¬ κΈ°λ°                           |
| λ λ”λ§ μ „λµ  | νμ΄μ§€ λ‹¨μ„ μ„ νƒ (SSG/SSR/ISR/CSR)     | μ»΄ν¬λ„νΈ λ‹¨μ„ μ„ νƒ (μ„λ²„/ν΄λΌμ΄μ–ΈνΈ νΌν•© κ°€λ¥) |
| λ°μ΄ν„° ν¨μΉ­  | `getStaticProps`, `getServerSideProps` | μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ§μ ‘ `fetch()`               |
| κΈ°λ³Έ λ λ”λ§  | ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ                    | μ„λ²„ μ»΄ν¬λ„νΈ (default)                        |
| ν•μ΄λ“λ μ΄μ… | μ „μ²΄ νμ΄μ§€ λ€μƒ                       | `use client` μ„ μ–Έλ μ»΄ν¬λ„νΈλ§ λ€μƒ            |
| λ©”νƒ€ μ„¤μ •    | `next/head`λ΅ μλ™ μ„¤μ •                | `generateMetadata()`λ΅ λ™μ  μ„¤μ •               |
| νΌν•© λ λ”λ§  | λ¶κ°€λ¥ (λ‹¨μΌ μ „λµ κ³ μ •)                | κ°€λ¥ (μ„λ²„ + ν΄λΌμ΄μ–ΈνΈ νΌμ¬ κ°€λ¥)             |

---

## π’¬ μ»¤λ®¤λ‹ν‹° ν† λ΅  μ£Όμ” μ§λ¬Έ λ° ν•΄μ„¤

### β“ Q1. v12μ—μ„λ„ SSRκ³Ό CSRμ„ μ„μ–΄μ„ μ‚¬μ© κ°€λ¥ν• κ±° μ•„λ‹κ°€μ”?

**π§  ν•΄μ„¤:**

- v12μ—μ„λ„ `useEffect`λ΅ fetchλ¥Ό ν•λ©΄ CSRμ²λΌ λ™μ‘ν•  μ μμ§€λ§, **μ„λ²„ μΈ΅ μ½”λ“ μ‹¤ν–‰μ€ μ¤μ§ νμ΄μ§€ μ»΄ν¬λ„νΈ λ‚΄μ—μ„λ§ κ°€λ¥**ν•©λ‹λ‹¤.
- v13μ€ **"μ„λ²„ μ»΄ν¬λ„νΈ"λΌλ” κ°λ…μ΄ μƒκ²¨**, μμ‹ μ»΄ν¬λ„νΈ λ‚΄μ—μ„λ„ μ„λ²„ API νΈμ¶, DB μ ‘κ·Ό λ“±μ΄ κ°€λ¥ν•΄μ΅μµλ‹λ‹¤.

π“ μ¦‰, v13μ—μ„λ” **μ„λ²„/ν΄λΌμ΄μ–ΈνΈ κµ¬λ¶„μ΄ νμ΄μ§€ λ‹¨μ„ β†’ μ»΄ν¬λ„νΈ λ‹¨μ„λ΅ λ°”λ€ κ²ƒ**μ΄ ν•µμ‹¬μ…λ‹λ‹¤.

---

### β“ Q2. v13λ„ ν•μ΄λ“λ μ΄μ… ν•μ–μ•„μ”. κ·ΈλΌ λ‘κ°™μ€ κ±° μ•„λ‹κ°€μ”?

**π§  ν•΄μ„¤:**

- λ§μµλ‹λ‹¤. `use client` μ»΄ν¬λ„νΈλ” μ—¬μ „ν hydrate λ€μƒμ…λ‹λ‹¤.
- κ·Έλ¬λ‚ v13μ μ„λ²„ μ»΄ν¬λ„νΈλ” **hydrate λ€μƒμ΄ μ•„λ‹λ©°, JS λ²λ“¤μ— ν¬ν•¨λμ§€λ„ μ•μµλ‹λ‹¤.**
- μ΄λ” **νμ΄μ§€μ μ΄κΈ° λ΅λ”© μ„±λ¥ ν–¥μƒκ³Ό λ²λ“¤ ν¬κΈ° κ°μ†**λ΅ μ΄μ–΄μ§‘λ‹λ‹¤.

---

### β“ Q3. v12μ—μ„λ” μ»΄ν¬λ„νΈ λ‹¨μ„λ΅ λ λ”λ§ μ „λµμ„ λ‚λ μ μ—†μ—λ‚μ”?

**π§  ν•΄μ„¤:**

- v12λ” **"νμ΄μ§€ λ‹¨μ„"λ΅ SSR/SSG μ „λµμ„ κ²°μ •**ν•κ³ , κ·Έ ν•μ„ μ»΄ν¬λ„νΈλ“¤μ€ μ „λ¶€ CSR λ°©μ‹μΌλ΅ λ™μ‘ν•©λ‹λ‹¤.
- v13μ€ **μ»΄ν¬λ„νΈ μμ²΄κ°€ μ„λ²„μ—μ„ μ‹¤ν–‰λκΈ° λ•λ¬Έμ—**, μ„λ²„ κΈ°λ¥μ„ νΉμ • λ¶€λ¶„μ—λ§ μ μ©ν•  μ μμµλ‹λ‹¤.
- μ: μ„λ²„ μ»΄ν¬λ„νΈ λ‚΄λ¶€μ— ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν¬ν•¨μ‹ν‚¤λ” ν•μ΄λΈλ¦¬λ“ κµ¬μ΅°

---

## π” ν•µμ‹¬ ν‚¤μ›λ“ μ •λ¦¬

- **Page Router (v12)**: νμ΄μ§€ κΈ°λ°, λ λ”λ§ μ „λµμ€ μ „μ²΄ νμ΄μ§€ λ‹¨μ„
- **App Router (v13)**: ν΄λ” κΈ°λ° λΌμ°ν…, μ»΄ν¬λ„νΈ λ‹¨μ„ μ„λ²„/ν΄λΌμ΄μ–ΈνΈ λ¶„λ¦¬ κ°€λ¥
- **React Server Components (RSC)**: ν΄λΌμ΄μ–ΈνΈκ°€ μ•„λ‹ μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ” μ»΄ν¬λ„νΈ
- **Hydration**: μ„λ²„μ—μ„ κ·Έλ ¤μ§„ HTMLμ„ λΈλΌμ°μ €μ—μ„ Reactλ΅ λ‹¤μ‹ μ—°κ²°
- **"use client"**: ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‹¤ν–‰λλ„λ΅ λ…μ‹ν• μ»΄ν¬λ„νΈ
- **generateMetadata()**: νμ΄μ§€ λ©”νƒ€ μ •λ³΄λ¥Ό λ™μ μΌλ΅ μ„¤μ •ν•λ” ν•¨μ (v13)

---

## βοΈ κ°μΈ μΈμ‚¬μ΄νΈ

μ΄λ² ν•™μµμ„ ν†µν•΄ Next.jsμ κµ¬μ΅°μ  λ³€ν™”κ°€ λ‹¨μν λ””λ ‰ν† λ¦¬λ§ λ°”λ€ κ² μ•„λ‹λΌ,  
**λ λ”λ§ μ „λµ, μ»΄ν¬λ„νΈ μ±…μ„, μ½”λ“ μ‹¤ν–‰ μ„μΉκΉμ§€ μ™„μ „ν λ°”λ€μ—λ‹¤λ” μ **μ„ μ²΄κ°ν–μµλ‹λ‹¤.

νΉν App Routerλ”:

- μ„¤κ³„ μ‹μ λ¶€ν„° λ λ”λ§ μ „λµμ„ λ” μ„Έλ°€ν•κ² μ΅°μ  κ°€λ¥ν•κ² ν–κ³ ,
- λ²λ“¤ μ‚¬μ΄μ¦ μµμ ν™”μ™€ νΌν¬λ¨Όμ¤ κ°μ„ μ„ μμ—°μ¤λ½κ² μ¶”κµ¬ν•  μ μκ² λ„μ™€μ¤€λ‹¤λ” μ μ΄ μΈμƒ κΉμ—μµλ‹λ‹¤.

---

## π”— μ°Έκ³  λ§ν¬

- [Next.js κ³µμ‹ λ¬Έμ„](https://nextjs.org/docs)
- [React Server Components λ…Όμ](https://github.com/reactwg/server-components/discussions/4)
- [Next.js 13 App Router μ†κ°](https://nextjs.org/docs/app/building-your-application/routing)

---
