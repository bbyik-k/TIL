# [Core JS] 1-3. 변수 선언과 데이터 할당

## 요약

자바스크립트에서 변수 선언과 데이터 할당은 하나의 동작처럼 보이지만,  
실제로는 **서로 다른 메모리 작업 두 단계**로 이루어진다.

## 핵심 내용

### 1. 변수 선언 (Declaration)

```js
let a;
```

변수 선언

- 값을 만드는 것이 아니라, 변수 영역에 빈 공간을 확보하는 과정.

이 공간에는

- 식별자(이름) a가 붙고
- 값은 아직 정해지지 않은 상태로 undefined가 들어간다.

선언 단계에서는

> 값을 담을 수 있는 공간만 확보.

> 변수는 값 그 자체가 아니라, 값을 가리킬 준비가 된 공간.

### 2. 데이터 할당 (Assignment)

```js
a = 'abc';
```

데이터 할당은 변수 영역에 값을 직접 저장하지 않는다.

- 대신 데이터 영역에 별도의 공간을 확보.
- 문자열 'abc'를 그 공간에 저장
- 해당 데이터의 주소를 변수 영역에 저장

변수 영역: 식별자 - > 데이터 주소

- 데이터 영역: 실제 값

### 3. 선언 + 할당을 한 줄로 써도 동작은 같음

```js
let a = 'abc';
```

한 줄이지만, 내부 동작은 여전히 다음 두 단계.

1. 변수 선언
2. 데이터 할당

> 자바스크립트 엔진은 항상 이 두 과정을 분리해서 수행

### 4. 문자열이 바뀔 때 메모리에서 일어나는 일

```js
a += 'def';
```

- 기존 'abc' 문자열을 수정하지 않음.
- 'abcdef'라는 새로운 문자열을 생성
- 데이터 영역의 새로운 공간에 저장
- 변수 a는 새 주소를 가리키도록 변경

> 문자열은 불변값이기 때문에 어떤 변형이든 무조건 새로 만들어진다.

## Check Point

왜 변수 영역과 데이터 영역을 분리할까?

- 두 가지 목적.
  1. 데이터 변형을 자유롭게 하기 위해
  2. 메모리를 효율적으로 관리하기 위해

예를 들어,

- 500개의 변수에 숫자 5를 할당할 때 매번 값을 복사하면 메모리 낭비가 크다.
- 대신, 데이터는 한 번만 저장, 변수들은 주소만 참조하면 효율적이다.

이 구조 덕분에, 불변성 개념이 가능해지고 이후 참조형 데이터 구조로 확장된다.

## 언제 문제가 되는가 / 언제 쓰는가

- 불변성과 가변성의 차이를 이해하지 못할 때
- 참조형 데이터의 동작 원리를 설명해야 할 때
- React state 업데이트에서 왜 새 객체를 만들어야 하는지 설명할 때

## 정리

- 자바스크립트에서 변수는 값이 아니라 값의 주소를 저장하는 공간
- 선언은 공간을 만들고, 할당은 그 공간에 연결될 주소를 정하는 과정
