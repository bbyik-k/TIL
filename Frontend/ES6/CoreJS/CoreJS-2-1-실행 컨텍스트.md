# [Core JS] 2-1. 실행 컨텍스트란?

## 요약

- 실행 컨텍스트는 **자바스크립트 엔진이 코드를 실행하기 위해 필요한 모든 환경 정보를 모아둔 실행 단위**다.
- 이 개념을 이해해야 호이스팅, 스코프, this, 클로저가 왜 그렇게 동작하는지 설명할 수 있다.

## 핵심 내용

### 핵심내용 1. 실행 컨텍스트는 “실행 환경 객체”다

- 자바스크립트 코드는 아무 준비 없이 실행되지 않는다.
- 엔진은 코드를 실행하기 전에 **변수, 함수, 스코프, this 정보**를 수집해 하나의 묶음으로 관리한다.
- 이 묶음이 바로 실행 컨텍스트이며, 실제 실행은 이 컨텍스트를 기준으로 이루어진다.

### 핵심내용 2. 실행 컨텍스트는 스택으로 관리된다

- 실행 컨텍스트는 **콜 스택(Call Stack)** 에 쌓이고 제거된다.
- 전역 코드 실행 시 전역 실행 컨텍스트가 생성된다.
- 함수 호출 시마다 새로운 실행 컨텍스트가 생성되어 스택의 맨 위에 올라간다.
- 실행이 끝난 컨텍스트는 스택에서 제거되며, 이전 컨텍스트로 돌아간다.

### 핵심내용 3. 실행 컨텍스트에는 세 가지 핵심 정보가 담긴다

- VariableEnvironment  
  -> 선언 시점의 식별자 정보와 외부 환경 참조를 **스냅샷**으로 보관
- LexicalEnvironment  
  -> 실제 실행 중 변하는 식별자 상태를 **실시간으로 반영**
- ThisBinding  
  -> 해당 컨텍스트에서 this가 가리켜야 할 대상

이 구조 때문에 호이스팅, 스코프 체인, this 바인딩 같은 현상이 발생한다.

## Check Point

- 실행 컨텍스트는 코드 실행 **이전 단계**에서 먼저 생성된다.
- “함수 실행 = 실행 컨텍스트 생성”으로 연결해서 기억한다.
- 스코프 체인은 실행 컨텍스트가 아닌 **LexicalEnvironment 간 연결 구조**다.

## 언제 문제가 되는가 / 언제 쓰는가

- 디버깅 시 “왜 이 변수가 undefined지?” 같은 상황의 근본 원인이다.
- React에서 렌더링 중 호출되는 함수, 이벤트 핸들러의 실행 흐름을 이해하는 데 필수다.
- 콜 스택 초과 오류(Maximum call stack size exceeded)는 실행 컨텍스트 누적 문제다.
- 뒤에서 이어지는 JS의 복잡한 `this`의 이해에 필수!!!!

## 정리

- 실행 컨텍스트는 **자바스크립트 실행의 모든 출발점이 되는 내부 실행 단위**다.
