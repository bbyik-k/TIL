# React.dev-docs-9-조건부 렌더링

[REACT 학습하기 > UI 표현하기 > 조건부 렌더링](https://ko.react.dev/learn/conditional-rendering)

## Goal

- 조건에 따라 다른 JSX를 반환하는 방법
- JSX 조각을 조건부로 포함하거나 제외하는 방법
- React 코드에서 흔히 볼 수 있는 조건부 문법

## 조건부로 JSX 반환하기

- React에서는 일반 JavaScript의 `if` 문을 사용해 특정 조건에 맞는 JSX를 반환할 수 있다.
- 함수형 컴포넌트 내부에서 조건 분기를 작성하여 다양한 UI 상태를 표현한다.
- 이때 반환값이 JSX라는 점에서, `return` 키워드가 반드시 조건 분기 안에 포함되어야 한다.

## 조건부로 `null`을 사용하여 아무것도 반환하지 않기

- 특정 조건에서 컴포넌트를 렌더링하지 않으려면 `null`을 반환하면 된다.
- 이는 React에서 유효한 반환값이며, DOM에 아무것도 렌더링하지 않음을 의미한다.
- 조건부 렌더링에서 깔끔하게 UI를 생략하고 싶을 때 사용할 수 있다.
  - 그러나 실제로 컴포넌트에서 `null`을 반환하는 것은 개발자가 렌더링하려고 할 때 놀랄 수 있기 때문에 **흔한 경우는 아니다**.

## 조건부로 JSX 포함시키기

- JSX 안에서 `{}` 중괄호 표현식을 이용하여 조건부로 일부 요소를 포함하거나 생략할 수 있다.
- 이 방식은 코드 가독성이 좋으며, UI의 특정 부분만 조건적으로 보여줄 때 유용하다.
- 조건부로 약간의 JSX를 포함해 코드를 더 [DRY(덜 반복적이게)](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) 하게 만들 수 있다.

## 삼항 조건 연산자 (`? :`)

- `{cond ? <A /> : <B />}` 형태로 사용한다.
- `cond`가 참이면 `<A />`를, 거짓이면 `<B />`를 렌더링한다.
- 간결한 표현이 가능하나, 중첩 사용 시 가독성이 떨어질 수 있다.
  - 중첩된 조건부 마크업이 너무 많아 컴포넌트가 지저분해질 경우 **자식 컴포넌트를 추출하여 정리할 것**

## 논리 AND 연산자 (`&&`)

- `{cond && <A />}` 형태로 사용한다.
- `cond`가 참일 때만 `<A />`를 렌더링하고, 거짓이면 아무것도 렌더링하지 않는다.
- UI를 조건적으로 숨기거나 간단히 제어할 때 자주 사용된다.

JavaScript && 표현식

- 왼쪽(조건)이 `true`이면 오른쪽의 값을 반환한다.
- 그러나 조건이 `false` 이면 전체 표현식이 `false`가 된다.
- React는 `false`를 `null` 또는 `undefined` 처럼 JSX 트리의 **"구멍"** 으로 간주
  - 그 자리에 아무것도 렌더링 하지 않는다.

> 주의하세요!
>
> **&& 의 왼쪽에 숫자를 두지 마세요.**  
> 조건을 테스트하기 위해 JavaScript는 자동으로 왼쪽을 부울로 변환합니다. 그러나 왼쪽이 0이면 전체 식이 (0)을 얻게 되고, React는 아무것도 아닌 0을 렌더링할 것입니다.
>
> 예를 들어, 흔하게 하는 실수로 `messageCount && <p>New messages</p>`와 같은 코드를 작성하는 것입니다. 메시지 카운트가 `0`일 때 아무것도 렌더링하지 않는다고 쉽게 추측할 수 있지만, 실제로는 `0` 자체를 렌더링합니다!
>
> 이 문제를 해결하려면 `messageCount > 0 && <p>New messages</p>` 처럼 왼쪽을 부울로 만드세요.

## 변수에 조건부로 JSX를 할당하기

- JSX 조각을 조건문과 함께 변수 (`let`)에 담아두고, `return` 시 삽입할 수 있다.
- 복잡한 조건문이 있을 때 `return`을 단순화하는 데 도움이 된다.
- 예:
  ```jsx
  let content;
  if (isLoggedIn) {
    content = <Dashboard />;
  } else {
    content = <LoginForm />;
  }
  return <div>{content}</div>;
  ```

## 요약

- React에서 JavaScript로 분기 로직을 제어한다.
- 조건부로 `if` 문과 함께 JSX 식을 반환할 수 있다.
- 조건부로 일부 JSX를 변수에 저장한 다음 중괄호를 사용하여 다른 JSX에 포함할 수 있다.
- JSX에서 `{cond ? <A /> : <B />}`는 “`cond`이면 `<A />`를 렌더링하고, 그렇지 않으면 `<B />`를 렌더링합니다.” 를 의미한다.
- JSX에서 `{cond && <A />}`는 “`cond`이면, `<A />`를 렌더링하되, **그렇지 않으면 아무것도 렌더링하지 않습니다**.” 를 의미한다.
- 위 예시는 흔한 방법이지만, `if`를 선호한다면 사용하지 않아도 된다.

## 인사이트

- 조건부 렌더링은 React의 **_선언적 UI 설계_** 와 잘 어울리는 핵심 패턴이다.
- 간단한 UI 조건은 `&&`나 `? :` 삼항연산자로 간단히 처리할 수 있고, 복잡한 조건은 변수를 활용하여 가독성을 높일 수 있다.
- 중요한 점은, React가 JSX를 렌더링할 때 JavaScript 표현식을 그대로 활용한다는 것.
- 따라서 조건부 렌더링의 본질은 새로운 문법이 아니라 JS 문법을 JSX와 조합하는 데 있음.
- 이번 학습을 통해 **조건식의 동작 원리**를 다시 돌아보았으며, 특히 `&&` 조건문의 **단락 평가(short-circuit evaluation)** 연산 방식을 확인할 수 있었다.
