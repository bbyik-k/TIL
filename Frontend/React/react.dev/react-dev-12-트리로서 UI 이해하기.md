# React.dev-docs-12-트리로서 UI 이해하기

[REACT 학습하기 > UI 표현하기 > 트리로서 UI 이해하기](https://ko.react.dev/learn/understanding-your-ui-as-a-tree)

## Goal

React와 많은 다른 UI 라이브러리는 UI를 **트리(Tree)** 구조로 모델링한다.  
애플리케이션을 트리로 생각하면 컴포넌트 간의 관계를 직관적으로 이해할 수 있으며, 성능 최적화 및 상태 관리에도 중요한 기초 개념이 된다.

- React가 컴포넌트 구조를 “이해하는” 방식
- 렌더 트리(Render Tree)가 무엇이고 어떤 용도로 사용되는지
- 모듈 의존성 트리(Module Dependency Tree)가 무엇이고 어떤 용도로 사용되는지

## 트리로서의 UI

- 트리(Tree)는 계층적 관계를 나타내는 일반적인 자료구조이다.
- UI를 트리로 표현하면 **부모-자식 관계**, **형제 관계**, **리프 노드** 등으로 컴포넌트 간의 구조를 명확히 시각화할 수 있다.
- React는 이 트리 구조를 기반으로 렌더링 및 상태 전파를 관리한다.

  ![ui-tree](https://github-production-user-asset-6210df.s3.amazonaws.com/47810773/480383735-19d3ce35-0c84-485a-a95a-6f7994acef92.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20250821%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250821T074313Z&X-Amz-Expires=300&X-Amz-Signature=6f68cf68b6ceda41b8f5186ad0b325b914eea146e5c0e92eec3c6131e468713b&X-Amz-SignedHeaders=host)

## 렌더 트리

- **렌더 트리(Render Tree)** 는 특정 렌더링 시점에 React 컴포넌트 간의 **중첩 관계**를 나타낸다.
- 조건부 렌더링에 따라 렌더 트리는 매 렌더링마다 달라질 수 있다.
  - 예: `isLoggedIn ? <Dashboard /> : <LoginForm />`
- 최상위 컴포넌트는 그 아래 모든 하위 컴포넌트 렌더링에 영향을 미치며, 리프 컴포넌트는 자주 다시 렌더링되므로 성능 최적화 시 주목해야 한다.

## 모듈 의존성 트리

- **모듈 의존성 트리(Module Dependency Tree)** 는 애플리케이션을 구성하는 파일과 모듈 간의 **import / export 관계**를 나타낸다.
- 빌드 도구(예: Webpack, Vite)는 의존성 트리를 기반으로 **번들링**을 수행하여 배포 가능한 코드로 묶는다.
- 이를 통해 코드 스플리팅, 트리 쉐이킹(Tree-shaking) 같은 최적화 기법이 가능하다.
- 의존성 트리는 또한 **번들 크기 문제**를 디버깅하거나, 어떤 코드가 불필요하게 포함되는지 파악하는 데 도움이 된다.

## 요약

- 트리는 요소 간의 관계를 표현하는 자료구조이며, UI 모델링에 자주 사용된다.
- **렌더 트리**는 렌더링 시점의 컴포넌트 중첩 구조를 설명하며, 성능 최적화와 디버깅에 유용하다.
  - 단일 렌더링에서 React 컴포넌트 간의 중첩 관계를 나타낸다.
  - 조건부 렌더링을 사용하면 렌더 트리가 다른 렌더링에서 변경될 수 있다.
  - 다른 `prop` 값으로 인해 컴포넌트가 다른 자식 컴포넌트를 렌더링할 수 있다.
- 렌더 트리는 최상위 컴포넌트와 리프 컴포넌트를 식별하는 데 도움이 된다.
  - 최상위 컴포넌트는 그 아래의 모든 컴포넌트의 렌더링 성능에 영향을 미친다.
  - 리프 컴포넌트는 자주 다시 렌더링된다.
  - 이러한 컴포넌트를 식별하는 것이 렌더링 성능을 이해하고 디버깅하는데 유용하다.
- **모듈 의존성 트리**는 파일 간의 관계를 설명하며, 빌드 및 배포 단계에서 코드 번들링 최적화에 활용된다.
- 트리 개념을 이해하면 React의 동작 원리와 성능 문제를 분석하는 데 큰 도움이 된다.

## 인사이트

- React의 UI는 "컴포넌트 모음"이 아닌 **트리 기반 구조**. - 이것이 react 의 핵심 철학과 기본 동작 구조, 성능 최적화의 시작점.
- 성능 문제(불필요한 렌더링, 번들 크기 과다 등)도 결국은 트리의 특정 부분(리프 노드, 루트 영향 범위, 의존성 깊이 등)을 어떻게 관리하느냐와 연결된다.
- 특히 렌더 트리와 의존성 트리를 구분해 이해하면, "렌더링 성능 최적화"와 "빌드 최적화"라는 서로 다른 영역을 명확히 분리해서 접근할 수 있다는 점이 유익하다.
- 성능 최적화나 리팩토링을 할 때, 코드 단위만이 아닌 **트리 관점**에서 바라보는 사고 방식을 더 의식적으로 적용해보자!
