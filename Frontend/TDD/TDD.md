# TDD (Test-Driven Development)

## 유닛 테스트와 TDD, JS

### 1. 테스트란?

- 세부적인 기능 및 컴포넌트 단위로 나누어 확인.
- **테스트의 목적**: 제품이 예상한 대로 동작하는지 확인.
  - 함수, 특정 기능, UI, 성능, API 스펙 테스트.
- **테스트 종류**:
  - 단위 테스트 (Unit Test)
  - 기능 테스트
  - API 테스트
  - Contract Test
  - A/B Test
  - Stress Test

#### 언제 테스트를 진행할까?

- 과거: 개발 후 배포 전 QA 팀에서 수행.
- 현재: 개발 도중 테스트 자동화 병행.
  - Dev & Automated Q/A: 자동화된 테스트로 빠르고 쉽게 작성하며 높은 커버리지 확보.

#### 테스트가 필요한 이유

- 코드에 대한 자신감 형성.
- 기능이 정상적으로 동작하는지 확인.
- 사용자 요구 사항을 충족.
- 버그를 빠르게 발견.
- 자신감 있는 리팩토링 가능.
- 손쉬운 유지보수 및 코드 품질 향상.
- 코드 간 의존성을 낮추고 좋은 문서화로 이어짐.
- 개발 시간을 절약.

---

### 2. Test Pyramid

#### 1. End-to-End Test (E2E Test)

- UI 테스트 및 사용자 테스트.
- 사용자가 실제로 소프트웨어를 사용했을 때의 흐름을 테스트.
  - 예: 자동차 운전자가 자동차를 운전하는 상황.
- **특징**:
  - 테스트 비용이 비쌈.
  - 사용자 환경 구축 및 테스트가 어려움.
  - 테스트 속도가 느림.
  - 버그 추적 및 수정이 어려움.

#### 2. Integration Test

- 여러 단위를 조합한 유기적 상호작용 테스트.
  - 예: 자동차 엔진과 바퀴의 작동 관계.
- **특징**:
  - 모듈, 클래스 등 조합된 기능 테스트.

#### 3. Unit Test

- 독립적인 하나의 함수, 모듈, 클래스를 테스트.
  - 예: 자동차 바퀴 한 개.
- **특징**:
  - 테스트 비용이 상대적으로 저렴.
  - 테스트 작성 및 자동화가 쉬움.
  - 빠른 속도로 실행 가능.
  - 개발 중 작성하면 즉시 버그를 발견하고 해결 가능.
  - 상위 단계(Integration, E2E)에서의 수정은 복잡하고 어려움.

---

### 3. TDD (Test-Driven Development)

- 개발 전 테스트 코드를 먼저 작성하는 방식.

#### TDD 프로세스

1. 테스트 코드 작성.
2. 테스트 실행 → 실패.
3. 테스트를 만족하는 코드 작성.
4. 테스트 실행 → 성공.
5. 리팩토링 반복.
6. 테스트 기반으로 자신감 있는 리팩토링.

#### TDD의 장점

- 요구사항 및 목표를 철저히 점검 가능.
- 사용자 입장에서 코드 작성.
- 디커플링된 코드 작성으로 코드 품질 향상.
- 인터페이스와 시스템 전반 설계 향상.
- 단위 구현 및 성공 테스트로 개발 집중력 향상.

---

### 4. TDD 활용

#### 언제 사용하는가?

- 요구사항이 명확할 때.
- 비즈니스 로직을 구현할 때.
- 협업 시 명세서 역할을 할 때.
- 설계에 대한 고민이 필요할 때.

#### 사용하지 않는 경우

- UI 컴포넌트 작성 시 (비즈니스 로직 제외).
- 요구사항이 명확하지 않은 상태에서 빠르게 MVP를 개발할 때.

---

### 5. CI/CD

- Code → Build → Test → Release → Deploy의 단계.
- **CI/CD 환경에서 TDD와 테스트의 역할**:
  - 코드 품질 향상.
  - 버그 수정 용이.
  - 문제점 조기 발견.
  - 개발 생산성 향상.
- **CI 서버**:
  - 코드 변경사항(테스트 코드 포함)을 주기적으로 병합.
  - 기존 및 신규 코드 테스트를 자동화.

---

### 유닛 테스트와 TDD, JS

- 유닛 테스트, TDD, CI/CD는 높은 코드 품질과 개발 생산성을 위한 핵심 도구.
- 협업과 코드 리뷰 과정에서 테스트는 문서화 및 근거 역할을 제공.
