# 해시와 해시테이블

## 해시(Hash)란?

> 임의의 길이를 가진 데이터를 고정된 길이의 해시값으로 매핑(mapping)하는 함수 또는 기법

- 주어진 key를 고정된 크기의 숫자(index)로 변환
- 해시 함수의 핵심은 **같은 입력 → 항상 같은 출력**
- 주요 목적: **빠른 데이터 검색과 삽입**

---

## 해시 함수(Hash Function)

- 데이터를 특정 index로 변환하는 함수
- 이상적인 해시 함수는 다음과 같은 특성을 갖는다.
  - 빠른 계산 속도
  - 충돌 최소화
  - 균등한 분포

예시:

```js
function simpleHash(key, size) {
  let hash = 0;
  for (let i = 0; i < key.length; i++) {
    hash += key.charCodeAt(i); //임의의 소수 값을 곱해주기도 한다.
  }
  return hash % size; //테이블 크기보다 커지지 않도록 처리
}
```

---

## 해시 충돌(Hash Collision)

- 서로 다른 key들이 같은 hash index를 가질 경우 발생
- 해결 방법:
  1. **체이닝(Chaining)**: 동일 인덱스에 여러 값을 리스트로 저장
  2. **오픈 어드레싱(Open Addressing)**: 빈 자리를 탐색하여 저장

---

## 해시 테이블(Hash Table)이란?

> **Key-Value 쌍을 빠르게 저장하고 검색**할 수 있는 자료구조

- 내부적으로 **배열(Array)** 구조를 가짐
- 해시 함수를 통해 key를 배열의 index로 변환
- 해시 기반 자료구조에서의 키나 값 비교는 `SameValueZero` 알고리즘이 중심이 됨.

### 특징:

| 항목       | 설명                                         |
| ---------- | -------------------------------------------- |
| 접근 속도  | 평균 O(1), 최악의 경우 O(N) (충돌 심할 경우) |
| key 중복   | 불가능 (덮어씀)                              |
| value 중복 | 가능                                         |
| 삽입 순서  | `Map`은 기억함 (`Object`는 X)                |
| Key 타입   | 문자열, 숫자, 객체 등 모두 가능 (`Map` 기준) |

---

## 🔍 배열 vs 해시테이블

| 항목           | 배열(Array)            | 해시테이블(Hash Table)      |
| -------------- | ---------------------- | --------------------------- |
| 데이터 구조    | 순차적 index 기반      | key → index (via hash)      |
| 검색 속도      | O(N) (값 직접 검색 시) | 평균 O(1)                   |
| 키 타입        | 숫자 index             | 문자열, 객체 등 다양한 타입 |
| 삽입 순서 보존 | O                      | `Map`은 O, `Object`는 X     |

---

## 용어 정리

- **해시**: 데이터를 숫자로 변환하는 기술
- **해시 함수**: 해시를 구현한 함수
- **해시 테이블**: 해시 함수를 이용한 key-value 저장 구조
- **버킷(Bucket)**: 같은 index에 여러 값을 저장하는 공간 (충돌 처리용)
- **체이닝**: 버킷을 배열 or 연결 리스트로 구성해 충돌 처리

---

## 자바스크립트에서 해시 구조

### `Map` 객체 (ES6)

```js
const map = new Map();
map.set('apple', 1);
map.get('apple'); // 1
```

### `Object` 객체

```js
const obj = { apple: 1 };
console.log(obj['apple']); // 1
```

- `Map`은 삽입 순서 기억 + 키로 객체도 가능
- `Object`는 문자열 키만 가능, 순서 보장 X

---

### 해시테이블의 시간복잡도 요약

| 연산 | 평균 시간복잡도 | 최악 시간복잡도 |
| ---- | --------------- | --------------- |
| 삽입 | O(1)            | O(N)            |
| 삭제 | O(1)            | O(N)            |
| 탐색 | O(1)            | O(N)            |

> 해시 함수의 품질과 충돌 처리 전략이 성능을 좌우

---

## 인사이트

- 해시 테이블은 실무에서 **빈번하게 사용되는 핵심 자료구조**
- 검색, 중복 제거, 빠른 조회, 캐싱 등에서 활약
- JS의 `Map`, `Set`, Python의 `dict`, Java의 `HashMap` 모두 해시 테이블 기반

---

## 레퍼런스

- [[자료구조] 해시테이블(HashTable)이란?](https://mangkyu.tistory.com/102)
- [자료구조 - 해시 테이블(hash table)이란 무엇인가?
  ](https://junvelee.tistory.com/153)
- [자바스크립트로 해시테이블 구현하는 방법](https://eunjinii.tistory.com/m/87)
- [자바스크립트 해시 테이블 충돌 해결하는 방법 2가지](https://eunjinii.tistory.com/88)
