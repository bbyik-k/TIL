# Composition (κµ¬μ„±) & DI (Dependency Injection) & Abstract class (μ¶”μƒν΄λμ¤)

## 1. Composition (κµ¬μ„±)

### **β” Compositionμ΄λ€?**

Composition(κµ¬μ„±)μ΄λ€ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°(OOP)μ—μ„ **ν΄λμ¤λ¥Ό μ΅°ν•©ν•μ—¬ κΈ°λ¥μ„ ν™•μ¥ν•λ” λ°©λ²•**μ„ μλ―Έν•©λ‹λ‹¤.

### **β” Composition vs. μƒμ† (Inheritance)**

- **μƒμ†(Inheritance)**: λ¶€λ¨ ν΄λμ¤λ¥Ό κΈ°λ°μΌλ΅ μμ‹ ν΄λμ¤κ°€ κΈ°λ¥μ„ μƒμ†λ°›μ.
- **κµ¬μ„±(Composition)**: ν΄λμ¤κ°€ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό ν¬ν•¨ν•μ—¬ κΈ°λ¥μ„ ν™•μ¥ν•λ” λ°©μ‹.

> **π’΅ μƒμ† λ€μ‹  Compositionμ„ λ” μ„ νΈν•λ” μ΄μ **
>
> - **λ””μ»¤ν”λ§(Decoupling)**: κ°•ν• κ²°ν•©μ„ ν”Όν•κ³ , λ…λ¦½μ μΈ μ½”λ“ μ¬μ‚¬μ©μ΄ κ°€λ¥.
> - **μ μ—°μ„± μ¦κ°€**: μ—¬λ¬ κ°μ μ‘μ€ ν΄λμ¤λ¥Ό μ΅°ν•©ν•μ—¬ μƒλ΅μ΄ κΈ°λ¥μ„ λ§λ“¤κΈ° μ‰¬μ›€.
> - **λ‹¤μ¤‘ μƒμ† λ¬Έμ  ν•΄κ²°**: μλ°”μ¤ν¬λ¦½νΈ/νƒ€μ…μ¤ν¬λ¦½νΈλ” λ‹¤μ¤‘ μƒμ†μ„ μ§€μ›ν•μ§€ μ•μΌλ―€λ΅, Compositionμ„ ν†µν•΄ μ—¬λ¬ κΈ°λ¥μ„ μ΅°ν•© κ°€λ¥.

### **β” Composition μμ  (κ°μ²΄λ¥Ό μ§μ ‘ ν¬ν•¨)**

```ts
class Engine {
  start() {
    console.log('Engine starting...');
  }
}

class Wheels {
  roll() {
    console.log('Wheels rolling...');
  }
}

class Car {
  private engine = new Engine();
  private wheels = new Wheels();

  drive() {
    this.engine.start();
    this.wheels.roll();
    console.log('Car is moving...');
  }
}

const myCar = new Car();
myCar.drive();
```

β” **μ—”μ§„(Engine)κ³Ό λ°”ν€΄(Wheels)λ¥Ό \*\***`Car`\***\* λ‚΄λ¶€μ—μ„ μ§μ ‘ μƒμ„±ν•κ³  μ‚¬μ© β†’ Composition λ°©μ‹!**
β” **μ΄ λ°©μ‹μ€ κ°„λ‹¨ν•μ§€λ§, \*\***`Car`\***\*κ°€ \*\***`Engine`\***\*κ³Ό \*\***`Wheels`\***\*μ— κ°•ν•κ² κ²°ν•©λμ–΄ μμ–΄ λ³€κ²½μ΄ μ–΄λ ¤μΈ μ μμ.**

---

## 2. Dependency Injection (μμ΅΄μ„± μ£Όμ…, DI)

### **β” DIλ€?**

Dependency Injection(DI, μμ΅΄μ„± μ£Όμ…)μ€ **κ°μ²΄μ μƒμ„±κ³Ό μμ΅΄μ„± κ΄€λ¦¬λ¥Ό μ™Έλ¶€μ—μ„ μ²λ¦¬ν•λ” κ°λ…**μ…λ‹λ‹¤.

> **π’΅ μ™ DIλ¥Ό μ‚¬μ©ν• κΉ?**
>
> - **μ½”λ“μ μ μ—°μ„±κ³Ό μ¬μ‚¬μ©μ„± μ¦κ°€**: μμ΅΄μ„±μ λ³€κ²½μ΄ μ©μ΄ν•¨.
> - **ν…μ¤νΈ μ©μ΄μ„±**: Mock κ°μ²΄λ¥Ό μ£Όμ…ν•μ—¬ λ‹¨μ„ ν…μ¤νΈκ°€ μ‰¬μ›μ§.
> - **κ°μ²΄ κ°„ κ²°ν•©λ„ κ°μ†**: κ°μ²΄κ°€ μ§μ ‘ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, μ™Έλ¶€μ—μ„ μ κ³µλ°›μ.

### **β” DIλ¥Ό ν™μ©ν• Composition μμ **

```ts
class Engine {
  start() {
    console.log('Engine starting...');
  }
}

class Wheels {
  roll() {
    console.log('Wheels rolling...');
  }
}

class Car {
  constructor(private engine: Engine, private wheels: Wheels) {}

  drive() {
    this.engine.start();
    this.wheels.roll();
    console.log('Car is moving...');
  }
}

// DIλ¥Ό μ΄μ©ν• κ°μ²΄ μ£Όμ…
const engine = new Engine();
const wheels = new Wheels();
const myCar = new Car(engine, wheels);
myCar.drive();
```

β” **DI λ°©μ‹μ—μ„λ” \*\***`Car`\***\*κ°€ \*\***`Engine`\***\*κ³Ό \*\***`Wheels`\***\*λ¥Ό μ§μ ‘ μƒμ„±ν•μ§€ μ•κ³ , μ™Έλ¶€μ—μ„ μ£Όμ…λ°›μ.**
β” **μ΄ λ°©μ‹μ€ κ²°ν•©λ„λ¥Ό λ‚®μ¶° ν…μ¤νΈ λ° μ μ§€λ³΄μλ¥Ό μ©μ΄ν•κ² ν•¨.**
β” **Mock κ°μ²΄λ‚ λ‹¤μ–‘ν• μ—”μ§„ μ ν•μ„ μ‰½κ² κµμ²΄ν•  μ μμ.**

---

## 3. Abstract (μ¶”μƒν™” & μ¶”μƒ ν΄λμ¤)

### **β” μ¶”μƒν™”(Abstract)λ€?**

μ¶”μƒν™”λ€ **κ°μ²΄μ ν•µμ‹¬μ μΈ λ¶€λ¶„λ§ λ…Έμ¶ν•κ³ , λ¶ν•„μ”ν• κµ¬ν„ μ„Έλ¶€ μ‚¬ν•­μ„ μ¨κΈ°λ” κ°λ…**μ…λ‹λ‹¤.

> **π’΅ μ™ μ¶”μƒν™”λ¥Ό μ‚¬μ©ν• κΉ?**
>
> - **μ½”λ“μ λ…ν™•μ„± μ¦κ°€**: μΈν„°νμ΄μ¤ λλ” μ¶”μƒ ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ—¬ μ„¤κ³„λ¥Ό λ…ν™•ν•κ² μ •μν•  μ μμ.
> - **μ½”λ“μ μ μ§€λ³΄μμ„± μ¦κ°€**: νΉμ • κΈ°λ¥μ„ μΊ΅μν™”ν•μ—¬ μ½”λ“ λ³€κ²½ μ‹ μν–¥μ„ μµμ†ν™”ν•  μ μμ.
> - **μΌκ΄€λ μΈν„°νμ΄μ¤ μ κ³µ**: μ—¬λ¬ κ°μ ν΄λμ¤κ°€ λ™μΌν• μΈν„°νμ΄μ¤λ¥Ό λ”°λ¥Ό μ μμ.

### **β” μ¶”μƒ ν΄λμ¤(abstract class)λ€?**

- **μ¶”μƒ ν΄λμ¤λ” μΈμ¤ν„΄μ¤ν™”ν•  μ μ—†λ” ν΄λμ¤**μ…λ‹λ‹¤.
- **κ³µν†µλ κΈ°λ¥μ„ μ •μν•κ³ , ν•μ„ ν΄λμ¤μ—μ„ λ°λ“μ‹ κµ¬ν„ν•΄μ•Ό ν•  λ©”μ„λ“λ¥Ό κ°•μ **ν•  μ μμµλ‹λ‹¤.

### **β” μ¶”μƒ ν΄λμ¤ μμ **

```ts
abstract class Animal {
  constructor(protected name: string) {}

  abstract makeSound(): void; // λ°λ“μ‹ ν•μ„ ν΄λμ¤μ—μ„ κµ¬ν„ν•΄μ•Ό ν•¨

  move(): void {
    console.log(`${this.name} is moving.`);
  }
}

class Dog extends Animal {
  makeSound(): void {
    console.log('Woof! Woof!');
  }
}

class Cat extends Animal {
  makeSound(): void {
    console.log('Meow! Meow!');
  }
}

const myDog = new Dog('Buddy');
myDog.makeSound(); // β… "Woof! Woof!"
myDog.move(); // β… "Buddy is moving."
```

β” **`Animal`\*\***μ€ \***\*`abstract class`\*\***λ΅, \***\*`makeSound()`\*\***λ” ν•μ„ ν΄λμ¤μ—μ„ λ°λ“μ‹ κµ¬ν„ν•΄μ•Ό ν•¨.**
β” **`Dog`\***\*, \*\***`Cat`\***\*μ€ \*\***`Animal`\***\*μ„ μƒμ†λ°›μ•„ κ°μμ \*\***`makeSound()`\***\*λ¥Ό κµ¬ν„.**

---

## **π€ κ²°λ΅ **

### **π’΅ Composition, DI, μ¶”μƒ ν΄λμ¤μ μ°¨μ΄μ  μ •λ¦¬**

| κ°λ…                             | μ„¤λ…                                                                          | μ‚¬μ© μμ                                               |
| -------------------------------- | ----------------------------------------------------------------------------- | ------------------------------------------------------ |
| **Composition (κµ¬μ„±)**           | μ—¬λ¬ κ°μ λ…λ¦½μ μΈ ν΄λμ¤λ¥Ό μ΅°ν•©ν•μ—¬ κΈ°λ¥μ„ ν™•μ¥ν•μ§€λ§, μμ΅΄μ„±μ΄ λ†’μ„ μ μμ | `Car` ν΄λμ¤κ°€ λ‚΄λ¶€μ—μ„ `Engine`, `Wheels`λ¥Ό μ§μ ‘ μƒμ„± |
| **Dependency Injection (DI)**    | μ™Έλ¶€μ—μ„ κ°μ²΄λ¥Ό μ£Όμ…ν•μ—¬ κ²°ν•©λ„λ¥Ό λ‚®μ¶¤                                        | `Car` ν΄λμ¤κ°€ μ™Έλ¶€μ—μ„ `Engine`, `Wheels`λ¥Ό μ£Όμ…λ°›μ  |
| **μ¶”μƒ ν΄λμ¤ (Abstract Class)** | κ³µν†µλ κΈ°λ¥μ„ μ •μν•κ³ , νΉμ • λ©”μ„λ“ κµ¬ν„μ„ κ°•μ                                | `Animal` ν΄λμ¤κ°€ `makeSound()`λ¥Ό κ°•μ                  |

π‘‰ **μ¦‰, μƒμ†λ³΄λ‹¤λ” Compositionμ„ μ„ νΈν•λ©°, ν•„μ”ν•  κ²½μ° DIμ™€ μ¶”μƒν™”λ¥Ό ν†µν•΄ μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤!** π€
